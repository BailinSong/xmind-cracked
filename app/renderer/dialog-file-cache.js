module.exports=webpackJsonp([27],{10:function(e,t){e.exports=require("fs")},1019:function(e,t,n){"use strict";var i=n(0),a=i(n(29)),l=i(n(1020));(0,a.default)(l.default,{name:"dialog-file-cache"})},1020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(368),a=n.n(i);for(var l in i)"default"!==l&&function(e){n.d(t,e,function(){return i[e]})}(l);var r=n(1021),s=n(1),o=Object(s.a)(a.a,r.a,r.b,!1,null,null,null);t.default=o.exports},1021:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uk-window uk-window-dialog",attrs:{id:"app"}},[n("div",{staticClass:"uk-window-title-bar"},[n("div",{staticClass:"uk-window-title"},[e._v("\n      "+e._s(e.$T("File Cache"))+"\n    ")]),e._v(" "),n("window-control-button-group")],1),e._v(" "),n("div",{staticClass:"uk-window-body uk-flex uk-flex-column uk-padding-large uk-padding-remove-bottom"},[n("div",[e._v("\n      "+e._s(e.$T("File Cache will auto backup your edited XMind files on this device."))+"\n    ")]),e._v(" "),n("div",{staticClass:"uk-panel-scrollable uk-margin uk-margin-large-top uk-padding-remove uk-height-expand uk-background-default"},[n("table",{staticClass:"uk-table uk-table-hover uk-table-small uk-table-striped"},[n("tbody",e._l(e.fileCacheItems.slice().reverse(),function(t,i){return n("tr",{key:i,on:{click:function(n){e.selectedFileCacheId=t.fileCacheId}}},[n("td",{staticClass:"uk-table-shrink"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedFileCacheId,expression:"selectedFileCacheId"}],staticClass:"uk-radio",attrs:{type:"radio"},domProps:{value:t.fileCacheId,checked:e._q(e.selectedFileCacheId,t.fileCacheId)},on:{change:function(n){e.selectedFileCacheId=t.fileCacheId}}})]),e._v(" "),n("td",{staticClass:"uk-text-truncate"},[e._v("\n              "+e._s(t.filename)+"\n            ")]),e._v(" "),n("td",{staticClass:"uk-text-truncate"},[e._v("\n              "+e._s(t.srcPath)+"\n            ")]),e._v(" "),n("td",{staticClass:"uk-table-shrink uk-text-nowrap"},[e._v("\n              "+e._s(e.formatDate(t.timestamp))+"\n            ")])])}),0)])])]),e._v(" "),n("div",{staticClass:"uk-window-button-bar"},[n("div",{staticClass:"uk-button-group"},[n("button",{staticClass:"uk-button uk-button-primary",attrs:{disabled:null===e.selectedFileCacheId},on:{click:e.open}},[e._v("\n        "+e._s(e.$T("Retrieve"))+"\n      ")]),e._v(" "),n("button",{staticClass:"uk-button uk-button-default",on:{click:e.close}},[e._v("\n        "+e._s(e.$T("Close"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"uk-button-group"},[n("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:e.removeAll}},[e._v("\n        "+e._s(e.$T("Clear Cache"))+"\n      ")])])])])},a=[]},15:function(e,t){e.exports=require("querystring")},16:function(e,t){e.exports=require("util")},23:function(e,t){e.exports=require("events")},25:function(e,t){e.exports=require("os")},26:function(e,t){e.exports=require("crypto")},31:function(e,t){e.exports=require("tty")},32:function(e,t){e.exports=require("net")},368:function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(12)),l=n(28),r=n(13),s=n(21),o=i(n(14));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var u={mixins:[i(n(41)).default],data:function(){return{selectedFileCacheId:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},(0,l.mapState)("fileCache",["fileCacheItems"]),{touchBarItems(){return[{type:"space",size:"flexible"},{type:"button",label:this.$T("Clear Cache"),click:"removeAll"},{type:"space",size:"flexible"},{type:"button",label:this.$T("Close"),click:"close"},null!==this.selectedFileCacheId?{type:"button",label:this.$T("Retrieve"),backgroundColor:"primary",click:"open"}:null,{type:"space",size:"flexible"}].filter(Boolean)}}),methods:{close(){window.close()},open(){if(null===this.selectedFileCacheId)return;let e=this.getFileCacheItem(this.selectedFileCacheId),t=e.firstSnapshotId;if(e.snapshots.length>0){t=e.snapshots.pop().id}this.$store.handleCommand("restoreSnapshot",{fileCacheId:e.fileCacheId,snapshotId:t,filename:e.filename}),(0,s.trackEvent)({eventCategory:"FileCache",eventAction:"retrieve"})},remove(){o.default.fetch(r.FILE_CACHE_REMOVE,{fileCacheId:this.selectedFileCacheId})},removeAll(){o.default.fetch(r.FILE_CACHE_REMOVE,{removeAll:!0})},getFileCacheItem(e){return this.fileCacheItems.find(t=>t.fileCacheId===e)},formatDate(e){const t=new Date(e);let n=t.getMinutes();return n<10&&(n="0"+n),`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${n}`}}};t.default=u},4:function(e,t){e.exports=require("path")},6:function(e,t){e.exports=require("electron")}},[1019]);