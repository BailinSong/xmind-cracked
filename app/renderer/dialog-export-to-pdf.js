module.exports=webpackJsonp([14],{10:function(t,e){t.exports=require("fs")},1014:function(t,e,o){"use strict";var a=o(0),n=a(o(29)),s=a(o(1015));(0,n.default)(s.default,{name:"dialog-export-to-pdf"})},1015:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(367),n=o.n(a);for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);var i=o(1018),r=o(1);var u=function(t){o(1016)},c=Object(r.a)(n.a,i.a,i.b,!1,u,"data-v-a0e522b0",null);e.default=c.exports},1016:function(t,e,o){var a=o(1017);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(20).default)("d46dd9d8",a,!0,{})},1017:function(t,e,o){(t.exports=o(18)()).push([t.i,"\n.uk-form-aligned > div > .uk-form-label[data-v-a0e522b0] {\n  width: 146px;\n}\n",""])},1018:function(t,e,o){"use strict";o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"uk-window uk-window-dialog uk-window-dialog-default",attrs:{id:"app"}},[o("div",{staticClass:"uk-window-title-bar uk-window-title-bar-floating"},[o("window-control-button-group")],1),t._v(" "),o("div",{staticClass:"uk-window-body uk-flex uk-flex-column"},[o("div",{staticClass:"uk-panel uk-padding-large uk-flex uk-flex-column uk-height-expand"},[o("h1",{staticClass:"uk-text-bold"},[t._v("\n        "+t._s(t.$T("Export to PDF"))+"\n      ")]),t._v(" "),o("div",{staticClass:"uk-panel uk-form-aligned"},[o("div",{staticClass:"uk-margin-top uk-margin-small"},[o("label",{staticClass:"uk-form-label"},[t._v(t._s(t.$T("Content:")))]),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("button",{staticClass:"uk-button uk-button-popover-toggle uk-select-icon uk-text-left uk-width-small",staticStyle:{width:"176px"},attrs:{name:"content"}},[t._v("\n              "+t._s(t.exportContentScopeTypes[t.exportContentScope])+"\n            ")]),t._v(" "),o("div",{attrs:{"uk-contextual-popover":"offsetLeft:20","data-sel-close":"[uk-menu] button"}},[o("ul",{staticClass:"uk-height-1-1 uk-overflow-auto",attrs:{"uk-menu":""}},t._l(t.exportContentScopeTypes,function(e,a){return o("li",{key:a},[o("button",{class:{"uk-checked":t.exportContentScope===a},on:{click:function(e){t.exportContentScope=a}}},[t._v("\n                    "+t._s(e)+"\n                  ")])])}),0)])])]),t._v(" "),o("div",{staticClass:"uk-margin-small"},[o("label",{staticClass:"uk-form-label"},[t._v(t._s(t.$T("Options:")))]),t._v(" "),o("div",{staticClass:"uk-form-controls uk-margin-xsmall-top"},[o("div",{staticClass:"uk-margin-small"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.exportBackground,expression:"exportBackground"}],staticClass:"uk-checkbox uk-margin-xsmall-right",attrs:{type:"checkbox",name:"transparent"},domProps:{checked:Array.isArray(t.exportBackground)?t._i(t.exportBackground,null)>-1:t.exportBackground},on:{change:function(e){var o=t.exportBackground,a=e.target,n=!!a.checked;if(Array.isArray(o)){var s=t._i(o,null);a.checked?s<0&&(t.exportBackground=o.concat([null])):s>-1&&(t.exportBackground=o.slice(0,s).concat(o.slice(s+1)))}else t.exportBackground=n}}}),t._v("\n                "+t._s(t.$T("Background Color"))+"\n              ")])])])]),t._v(" "),o("hr",{staticClass:"uk-margin-xsmall-bottom",staticStyle:{}}),t._v(" "),o("div",{staticClass:"uk-flex-column uk-text-muted"},[t._v("\n          "+t._s(t.$T("To change PDF layout settings, choose File > Print > Save as PDF."))+"\n        ")])])])]),t._v(" "),o("div",{staticClass:"uk-window-button-bar"},[o("div",{staticClass:"uk-button-group"},[o("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit",autofocus:""},on:{click:t.doExport}},[t._v("\n        "+t._s(t.$T("Export"))+"\n      ")]),t._v(" "),o("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:t.cancel}},[t._v("\n        "+t._s(t.$T("Cancel"))+"\n      ")])])])])},n=[]},15:function(t,e){t.exports=require("querystring")},16:function(t,e){t.exports=require("util")},23:function(t,e){t.exports=require("events")},25:function(t,e){t.exports=require("os")},26:function(t,e){t.exports=require("crypto")},31:function(t,e){t.exports=require("tty")},32:function(t,e){t.exports=require("net")},367:function(t,e,o){"use strict";var a=o(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(15)),s=o(8),i=a(o(41)),r=o(13),u=a(o(14)),c=o(34),l=o(21);const p=n.default.parse(window.location.search.slice(1));var d={mixins:[i.default],data(){return{exportContentScope:0,exportToType:0,exportScale:1,exportBackground:!0,iconWarning:this.$toResourceURL("static/images/dialog-export-to-image/warning.svg"),iconLock:this.$toResourceURL("static/images/dialog-export-to-image/lock.svg"),exportAvailableScales:["100%","200%","300%"]}},computed:{exportContentScopeTypes(){return[this.$T("Current Map"),this.$T("Whole Workbook")]},exportToFileTypes(){return[this.$T("Single File"),this.$T("Multiple Files")]},validSubState:{get(){return this.$store.getters["activation/status"]===s.ACTIVATION_STATUS.VALID},set(){throw new Error("Not allow set subState.")}},bigMindMap(){return Math.max(p.bound[0],p.bound[1])*this.exportScale>3e4},touchBarItems(){return[{type:"space",size:"flexible"},{type:"button",label:this.$T("Cancel"),click:"close"},{type:"button",label:this.$T("Export"),backgroundColor:"primary",click:"doExport"},{type:"space",size:"flexible"}].filter(Boolean)}},watch:{async exportScale(t){t>1&&!await this.handlerForLimitedFeature()&&(this.exportScale=1)},exportContentScope(t){this.exportToType=t}},methods:{doExport(){const t={contentScope:this.exportContentScope,exportTo:this.exportToType,transparent:!this.exportBackground};this.$safeRun(()=>{u.default.fetch((0,r.WINDOW_SUBMIT_RESULT)(window.id),t).then(()=>window.close())})},cancel(){window.close()},async handlerForLimitedFeature(){if(this.$store.commit("activation/checkpoint"),this.$store.getters["activation/status"]===s.ACTIVATION_STATUS.VALID)return!0;{let t,e;if("true"===process.env.VANA_LICENSE_MODE)e="activate",t=this.$T("Subscribe");else{const o=""===this.$store.state.account.user&&""===this.$store.state.account.token;e=o?"signIn":"activate",t=o?this.$T("Sign in and Subscribe"):this.$T("Subscribe")}let o=await(0,c.showMessageBox)({type:"info",title:this.$T("This Feature is Locked"),message:this.$T("This Feature is Locked"),detail:this.$T("This feature is not available in Trial Mode. Please subscribe XMind to unlock it."),buttons:[t,this.$T("Cancel")],cancelId:1,defaultId:0});return Array.isArray(o)&&o.length>0&&0===o[0]&&(this.$store.handleCommand(e),(0,l.trackConfig)({name:"sourceOfPurchase",value:"exportScale"})),!1}}}};e.default=d},4:function(t,e){t.exports=require("path")},6:function(t,e){t.exports=require("electron")}},[1014]);