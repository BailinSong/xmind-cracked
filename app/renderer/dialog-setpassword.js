module.exports=webpackJsonp([23],{10:function(s,t){s.exports=require("fs")},1141:function(s,t,o){"use strict";var e=o(0),a=e(o(29)),r=e(o(1142));(0,a.default)(r.default,{name:"dialog-setpassword"})},1142:function(s,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=o(414),a=o.n(e);for(var r in e)"default"!==r&&function(s){o.d(t,s,function(){return e[s]})}(r);var i=o(1143),n=o(1),d=Object(n.a)(a.a,i.a,i.b,!1,null,null,null);t.default=d.exports},1143:function(s,t,o){"use strict";o.d(t,"a",function(){return e}),o.d(t,"b",function(){return a});var e=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"uk-window uk-window-dialog"},[o("div",{staticClass:"uk-window-title-bar uk-window-title-bar-floating"},[o("window-control-button-group")],1),s._v(" "),o("div",{staticClass:"uk-window-body uk-margin-large-left uk-margin-xlarge-top uk-margin-large-right uk-margin-large-bottom uk-overflow-hidden"},[o("h1",{staticClass:"uk-margin-small-bottom"},[s._v("\n      "+s._s(s.$T("Set a password to protect this file."))+"\n    ")]),s._v(" "),o("div",[s._v("\n      "+s._s(s.$T("If you forgot the password, the file canâ€™t be opened in any way."))+"\n    ")]),s._v(" "),o("form",{staticClass:"uk-form-stacked uk-margin-large-top",attrs:{id:"password_form"},on:{submit:s.submitForm}},[o("div",{staticClass:"uk-form-aligned"},[s.oldPassword?o("div",{staticClass:"uk-margin "},[o("label",{staticClass:"uk-form-label",staticStyle:{width:"180px"}},[s._v(s._s(s.$T("Old Password:")))]),s._v(" "),o("div",{staticClass:"uk-form-controls"},[o("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmOldPassword,expression:"confirmOldPassword"}],staticClass:"uk-input",class:{"uk-form-danger":!s.oldPasswordConfirmed},attrs:{type:"password",autofocus:s.oldPassword},domProps:{value:s.confirmOldPassword},on:{input:function(t){t.target.composing||(s.confirmOldPassword=t.target.value)}}})])]):s._e()]),s._v(" "),o("div",{staticClass:"uk-form-aligned"},[o("div",{staticClass:"uk-margin"},[o("label",{staticClass:"uk-form-label",staticStyle:{width:"180px"}},[s._v(s._s(s.$T("New Password:")))]),s._v(" "),o("div",{staticClass:"uk-form-controls"},[o("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"newPassword"}],staticClass:"uk-input",staticStyle:{width:"304px"},attrs:{type:"password",autofocus:!s.oldPassword},domProps:{value:s.newPassword},on:{blur:function(t){return s.checkNewPasswordConfirm()},input:[function(t){t.target.composing||(s.newPassword=t.target.value)},function(){s.confirmNewPassword&&s.checkNewPasswordConfirm()}]}})])])]),s._v(" "),o("div",{staticClass:"uk-form-aligned"},[o("div",{staticClass:"uk-margin"},[o("label",{staticClass:"uk-form-label",staticStyle:{width:"180px"}},[s._v(s._s(s.$T("Confirm Password:")))]),s._v(" "),o("div",{staticClass:"uk-form-controls"},[o("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"uk-input",class:{"uk-form-danger":!s.newPasswordConfirmed},attrs:{type:"password"},domProps:{value:s.confirmNewPassword},on:{input:[function(t){t.target.composing||(s.confirmNewPassword=t.target.value)},function(t){return s.checkNewPasswordConfirm()}]}})])])]),s._v(" "),o("div",{staticClass:"uk-form-aligned"},[o("div",{staticClass:"uk-margin"},[o("label",{staticClass:"uk-form-label",staticStyle:{width:"180px"}},[s._v(s._s(s.$T("Password Hint (Optional):")))]),s._v(" "),o("div",{staticClass:"uk-form-controls"},[o("input",{directives:[{name:"model",rawName:"v-model",value:s.newPasswordHint,expression:"newPasswordHint"}],staticClass:"uk-input",attrs:{type:"text"},domProps:{value:s.newPasswordHint},on:{input:function(t){t.target.composing||(s.newPasswordHint=t.target.value)}}})])])]),s._v(" "),s.errorHint?o("p",{staticClass:"uk-text-danger"},[s._v("\n        "+s._s(s.errorHint)+"\n      ")]):s._e()])]),s._v(" "),o("div",{staticClass:"uk-window-button-bar"},[o("div",{staticClass:"uk-button-group"},[o("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit",form:"password_form",disabled:!s.canSetPassword}},[s._v("\n        "+s._s(s.$T("Set"))+"\n      ")]),s._v(" "),s.oldPassword?o("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button",disabled:!s.canRemovePassword},on:{click:s.removePassword}},[s._v("\n        "+s._s(s.$T("Remove"))+"\n      ")]):s._e(),s._v(" "),o("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:s.cancel}},[s._v("\n        "+s._s(s.$T("Cancel"))+"\n      ")])])])])},a=[]},15:function(s,t){s.exports=require("querystring")},16:function(s,t){s.exports=require("util")},23:function(s,t){s.exports=require("events")},25:function(s,t){s.exports=require("os")},26:function(s,t){s.exports=require("crypto")},31:function(s,t){s.exports=require("tty")},32:function(s,t){s.exports=require("net")},4:function(s,t){s.exports=require("path")},414:function(s,t,o){"use strict";var e=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(o(15)),r=o(8),i=o(13),n=e(o(14)),d=e(o(41));const l=r.WINDOW_SETTINGS["dialog-setpassword"],u=a.default.parse(window.location.search.slice(1)),w=/^[a-zA-Z0-9_!\-()?[\]#$^&*+=`~ ]{1,128}$/;var c={mixins:[d.default],data:()=>({oldPassword:u.oldPassword,confirmOldPassword:"",newPassword:"",confirmNewPassword:"",passwordHint:u.passwordHint,newPasswordHint:"",newPasswordConfirmed:!0}),computed:{canSetPassword(){return""!==this.newPassword&&this.newPasswordConfirmed&&(!this.oldPassword||this.oldPasswordConfirmed)&&this.validPassword},canRemovePassword(){return""!==this.oldPassword&&this.oldPasswordConfirmed},oldPasswordConfirmed(){return this.oldPassword===this.confirmOldPassword},contentDefaultHeight(){let s=l.height;return this.oldPassword&&(s+=61),s},touchBarItems(){return[this.oldPassword?{type:"button",label:this.$T("Remove"),click:"removePassword"}:null,{type:"space",size:"flexible"},{type:"button",label:this.$T("Cancel"),click:"close"},this.canSetPassword?{type:"button",label:this.$T("Set"),click:"submitForm"}:null,{type:"space",size:"flexible"}].filter(Boolean)},validPassword(){return this.newPassword&&w.test(this.newPassword)},errorHint(){return this.validPassword||!this.newPassword?"":this.$T("Your password contains invalid characters.")}},created(){this.newPasswordHint=this.passwordHint},mounted(){this.shrinkDialog()},methods:{checkNewPasswordConfirm(){this.newPassword===this.confirmNewPassword?this.newPasswordConfirmed=!0:this.newPasswordConfirmed=!1},shrinkDialog(){window.resizeTo(l.width,this.contentDefaultHeight)},cancel:function(){window.close()},submitForm(s){s&&s.preventDefault(),this.newPassword&&this.newPasswordConfirmed&&(!this.oldPassword||this.oldPasswordConfirmed)&&this.validPassword&&this.$safeRun(async()=>{await n.default.fetch((0,i.WINDOW_SUBMIT_RESULT)(window.id),{action:"set",newPassword:this.newPassword,newPasswordHint:this.newPasswordHint.slice(0,45)}),setTimeout(()=>{window.close()},0)})},removePassword:function(){this.$safeRun(async()=>{await n.default.fetch((0,i.WINDOW_SUBMIT_RESULT)(window.id),{action:"remove"}),setTimeout(()=>{window.close()},0)})}}};t.default=c},6:function(s,t){s.exports=require("electron")}},[1141]);